{
  "info": {
    "_postman_id": "f6bc87c8-f920-47e8-8cd7-a9ccb17756ec",
    "name": "01 - RESTful API Fundamentals",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "GET All Posts",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "//validate reponse code of 200",
              "pm.test(\"Status code is 200\", function () {",
              "  pm.response.to.have.status(200);",
              "});",
              "",
              "//validate response time is less than 1000ms",
              "pm.test(\"Response time is less than 1000ms\", function () {",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);",
              "});",
              "",
              "//validate response is an array",
              "pm.test(\"Response is an array\", function () {",
              "    pm.expect(pm.response.json()).to.be.an('array');",
              "});",
              "",
              "//validate response contains at least 100 elements",
              "pm.test(\"Array contains at least 100 elements\", function () {",
              "    pm.expect(pm.response.json()).to.have.lengthOf.at.least(100);",
              "});",
              "",
              "//validate first user id is equal to 1",
              "pm.test(\"First element has correct id\", function () {",
              "    pm.expect(pm.response.json()[0].id).to.equal(1);",
              "});",
              "",
              "//set collectionVariables \"firstUserId\" to be equal to the first user id in the response body",
              "pm.test(\"First element has correct userId\", function () {",
              "    pm.collectionVariables.set(\"firstUserId\", pm.response.json()[0].userId);",
              "    pm.expect(pm.response.json()[0].userId).to.equal(1);",
              "});",
              "",
              "//validate each post has userId, id, title, body",
              "pm.test(\"Each post has userId, id, title, body\", function(){",
              "    pm.response.json().forEach(function (post) {",
              "        pm.expect(post).to.have.property('userId');",
              "        pm.expect(post).to.have.property('id');",
              "        pm.expect(post).to.have.property('title');",
              "        pm.expect(post).to.have.property('body');",
              "    })",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}\\posts",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "posts"
          ]
        }
      }
    },
    {
      "name": "GET Single Post",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "//outputing the response data to the console for debugging purposes.",
              "console.log(\"Response data: \" + JSON.stringify(pm.response.json())); ",
              "",
              "//validate reponse code of 200",
              "pm.test(\"Status code is 200\", function () {",
              "  pm.response.to.have.status(200);",
              "});",
              "",
              "//validate response time is less than 1000ms",
              "pm.test(\"Response time is less than 1000ms\", function () {",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);",
              "});",
              "",
              "//validate response is a single object",
              "pm.test(\"Response is a single object\", function () {",
              "    pm.expect(pm.response.json()).to.be.an('object');",
              "});",
              "",
              "//validate first user id is equal to 1",
              "pm.test(\"First element has correct id\", function () {",
              "    pm.expect(pm.response.json().id).to.equal(1);",
              "});",
              "",
              "//set collectionVariables \"firstUserId\" to be equal to the first user id in the response body",
              "pm.test(\"First element has correct userId\", function () {",
              "    pm.expect(pm.response.json().userId).to.equal(1);",
              "});",
              "",
              "//validate each post has userId, id, title, body",
              "pm.test(\"Each post has userId, id, title, body\", function(){",
              "        pm.expect(pm.response.json().hasOwnProperty('userId'));",
              "        pm.expect(pm.response.json().hasOwnProperty('id'));",
              "        pm.expect(pm.response.json().hasOwnProperty('title'));",
              "        pm.expect(pm.response.json().hasOwnProperty('body'));",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}\\posts\\1",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "posts",
            "1"
          ]
        }
      }
    },
    {
      "name": "GET Post Comments",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "//validate reponse code of 200",
              "pm.test(\"Status code is 200\", function () {",
              "  pm.response.to.have.status(200);",
              "});",
              "",
              "//validate response time is less than 1000ms",
              "pm.test(\"Response time is less than 1000ms\", function () {",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);",
              "});",
              "",
              "//validate response is an array",
              "pm.test(\"Response is an array\", function () {",
              "    pm.expect(pm.response.json()).to.be.an('array');",
              "});",
              "",
              "//validate all comments came from user 1",
              "pm.test(\"All comments came from user 1\", function(){",
              "    pm.response.json().forEach(function (post) {",
              "        pm.expect(post).to.have.property('postId').to.equal(1);",
              "    })",
              "});",
              "",
              "//validate all email address are correctly format",
              "pm.test(\"Validate email format\", function(){",
              "    pm.response.json().forEach(function (post) {",
              "        pm.expect(post.email).to.match(/^[^@]+@[^@]+\\.[^@]+$/);",
              "    })",
              "});",
              "",
              "//count total comments and display in log",
              "pm.test(\"Log total number of comments\", function(){",
              "    var totalComments = pm.response.json().length;",
              "    console.log(\"Total number of comments: \" + totalComments);",
              "});",
              ""
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}\\posts\\1\\comments",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "posts",
            "1",
            "comments"
          ]
        }
      }
    },
    {
      "name": "GET with Query Parameters",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "function getRandomInt(min, max) {",
              "    return Math.floor(Math.random() * (max - min + 1)) + min;",
              "}",
              "",
              "//validate reponse code of 200",
              "pm.test(\"Status code is 200\", function () {",
              "  pm.response.to.have.status(200);",
              "});",
              "",
              "//validate response time is less than 1000ms",
              "pm.test(\"Response time is less than 1000ms\", function () {",
              "    pm.expect(pm.response.responseTime).to.be.below(1000);",
              "});",
              "",
              "//validate response is an array",
              "pm.test(\"Response is an array\", function () {",
              "    pm.expect(pm.response.json()).to.be.an('array');",
              "});",
              "",
              "//validate all comments came from user 1",
              "pm.test(\"All comments came from user 1\", function(){",
              "    pm.response.json().forEach(function (post) {",
              "        pm.expect(post).to.have.property('userId').to.equal(1);",
              "    })",
              "});",
              "",
              "//validate the response if filtered correctly",
              "pm.test(\"Resonse is filtered correctly\", function(){",
              "    pm.response.json().forEach(function (post) {",
              "        pm.expect(post).to.have.property('userId').to.equal(1);",
              "    })",
              "});",
              "",
              "// outputing the post from a random number",
              "pm.test(\"Validate random post\", function () {",
              "    //get max number of posts",
              "    const maxValue = pm.response.json().length;",
              "    //get random number between 1 and maxValue",
              "    const randomNumber = getRandomInt(1, maxValue);",
              "    //outputing post of randomNumber",
              "    console.log(\"Post from random number: \" +  randomNumber)",
              "    console.log(pm.response.json()[randomNumber]);",
              "});"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "url": {
          "raw": "{{base_url}}/posts?userId=1",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "posts"
          ],
          "query": [
            {
              "key": "userId",
              "value": "1",
              "uuid": "8e9f2ee4-363b-4b2b-b0fe-721f452b9a25"
            }
          ]
        }
      }
    }
  ],
  "variable": [
    {
      "key": "firstUserId",
      "value": ""
    }
  ]
}